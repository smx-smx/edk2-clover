language: c
compiler:
  - gcc
  - clang
before_install:
  - git submodule update --init --recursive
  - sudo apt-get update -qq
  - sudo apt-get install -qq build-essential subversion uuid-dev iasl
script:
  - make -C BaseTools
  - export EDK_TOOLS_PATH=$(pwd -P)/BaseTools
  - . edksetup.sh BaseTools
  - sed 's/^ACTIVE_PLATFORM.*/ACTIVE_PLATFORM=Clover\/Clover.dsc/g'
  - sed 's/^TOOL_CHAIN_TAG.*/TOOL_CHAIN_TAG=GCC46/g'
  - sed 's/^TARGET_ARCH.*/TARGET_ARCH=IA32 X64/g'
  - build
